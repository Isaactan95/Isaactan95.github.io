<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><title>3js-atg-experiment</title><script defer="defer" src="bundle.b4933f1f2f0ff9bcdbfa.js"></script><link href="main.css" rel="stylesheet"></head><body><canvas class="webgl"></canvas><div class="gooey"><span class="dot"></span><div class="dots"><span></span> <span></span> <span></span></div><br><div class="load"><b>Loading...</b></div></div><div class="wrapper"><a id="close-view" class="close-button"><div class="in"><div class="close-button-block"></div><div class="close-button-block"></div></div><div class="out"><div class="close-button-block"></div><div class="close-button-block"></div></div></a></div><div class="features"><button id="myBtn" class="block">Download Data</button></div><div class="container"><div class="label">Click the model for interaction.</div><div class="grid-text"></div><br><div class="text-plain">Right click and drag to move the camera.<br>Left click and drag to orbit the camera.</div></div><div class="grid-container"><button class="btn" id="run">Run</button> <button class="btn" id="stop">Stop</button> <button class="btn" id="maintenance">Maintenance</button></div><div class="grid-nav"><button class="btn" id="prev">&#60;</button><div class="text"><b></b></div><button class="btn" id="next">&#62;</button></div><div id="myModal" class="modal"><div class="modal-content"><div class="modal-header"><span class="close">&times;</span><h2>Download CSV Data of Line 4</h2></div><div class="modal-body"><div class="date-input"><label for="start">Start (date and time):</label> <input type="datetime-local" id="startDate" name="start"></div><div class="date-input"><label for="end">End (date and time):</label> <input type="datetime-local" id="endDate" name="birthdaytime"></div></div><br><div class="modal-footer"><div style="margin-top:50px"><button id="download" class="block">Download</button></div></div></div></div></body><script>var start=document.getElementById("startDate"),end=document.getElementById("endDate"),modal=document.getElementById("myModal"),btn=document.getElementById("myBtn"),span=document.getElementsByClassName("close")[0],download=document.getElementById("download");function dowloadCSV(e){var n=document.createElement("a"),o=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(o);n.href=t,n.download="Production-Line-4("+start.value.replace("T"," ")+" - "+end.value.replace("T"," ")+").csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}btn.onclick=function(){modal.style.display="block"},span.onclick=function(){modal.style.display="none"},window.onclick=function(e){e.target==modal&&(modal.style.display="none")},download.onclick=function(){modal.style.display="none",$.ajax({type:"post",url:"../download.php",data:{line:"prod",start:start.value.replace("T"," ")+":00",end:end.value.replace("T"," ")+":00"},success:function(e){dowloadCSV(e),modal.style.display="none"},error:function(e,n,o){console.log(e.responseText),console.log(o)}})}</script></html>